\renewcommand{\gridCellWidth}{0.3}
\renewcommand{\gridSize}{7}
\renewcommand{\gridSpacing}{1.5}
\renewcommand{\gridWidth}{\gridSize*\gridCellWidth}
\renewcommand{\gridAxisHorizontalCellColour}{myGreen}
\renewcommand{\gridAxisVerticalCellColour}{myOrange}
\renewcommand{\gridAxisMiddleColour}{myYellow}
\renewcommand{\gridTwoStart}{\gridSpacing}
\renewcommand{\gridThreeStart}{\gridTwoStart + \gridWidth + \gridSpacing}



\begin{tikzpicture}[every node/.style={minimum size=\gridCellWidth cm-\pgflinewidth, outer sep=0pt}]

%Grid 1

\node at (\gridSpacing/2,3.5*\gridCellWidth) {\large $A_{t+1} =$};

%Grid 2

\draw[step=\gridCellWidth cm,color=black] (\gridTwoStart,0) grid (\gridWidth + \gridTwoStart,\gridWidth);

\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 0.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 1.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 2.5*\gridCellWidth,2.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 3.5*\gridCellWidth,1.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 4.5*\gridCellWidth,0.5*\gridCellWidth) {};

\node at (\gridTwoStart + 0.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize y1};
\node at (\gridTwoStart + 1.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize y1};
\node at (\gridTwoStart + 2.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize y1};
\node at (\gridTwoStart + 3.5*\gridCellWidth,1.5*\gridCellWidth) {\footnotesize y1};
\node at (\gridTwoStart + 4.5*\gridCellWidth,0.5*\gridCellWidth) {\footnotesize y1};


\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 0.5*\gridCellWidth,5.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 1.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 2.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 3.5*\gridCellWidth,2.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 4.5*\gridCellWidth,1.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 5.5*\gridCellWidth,0.5*\gridCellWidth) {};

\node at (\gridTwoStart + 0.5*\gridCellWidth,5.5*\gridCellWidth) {\footnotesize y2};
\node at (\gridTwoStart + 1.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize y2};
\node at (\gridTwoStart + 2.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize y2};
\node at (\gridTwoStart + 3.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize y2};
\node at (\gridTwoStart + 4.5*\gridCellWidth,1.5*\gridCellWidth) {\footnotesize y2};
\node at (\gridTwoStart + 5.5*\gridCellWidth,0.5*\gridCellWidth) {\footnotesize y2};


\node[fill={\gridAxisMiddleColour}] at (\gridTwoStart + 0.5*\gridCellWidth,6.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridTwoStart + 1.5*\gridCellWidth,5.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridTwoStart + 2.5*\gridCellWidth,4.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridTwoStart + 3.5*\gridCellWidth,3.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridTwoStart + 4.5*\gridCellWidth,2.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridTwoStart + 5.5*\gridCellWidth,1.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridTwoStart + 6.5*\gridCellWidth,0.5*\gridCellWidth){};

\node at (\gridTwoStart + 0.5*\gridCellWidth,6.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridTwoStart + 1.5*\gridCellWidth,5.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridTwoStart + 2.5*\gridCellWidth,4.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridTwoStart + 3.5*\gridCellWidth,3.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridTwoStart + 4.5*\gridCellWidth,2.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridTwoStart + 5.5*\gridCellWidth,1.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridTwoStart + 6.5*\gridCellWidth,0.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };


\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 1.5*\gridCellWidth,6.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 2.5*\gridCellWidth,5.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 3.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 4.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 5.5*\gridCellWidth,2.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 6.5*\gridCellWidth,1.5*\gridCellWidth) {};

\node at (\gridTwoStart + 1.5*\gridCellWidth,6.5*\gridCellWidth) {\footnotesize y3};
\node at (\gridTwoStart + 2.5*\gridCellWidth,5.5*\gridCellWidth) {\footnotesize y3};
\node at (\gridTwoStart + 3.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize y3};
\node at (\gridTwoStart + 4.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize y3};
\node at (\gridTwoStart + 5.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize y3};
\node at (\gridTwoStart + 6.5*\gridCellWidth,1.5*\gridCellWidth) {\footnotesize y3};


\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 2.5*\gridCellWidth,6.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 3.5*\gridCellWidth,5.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 4.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 5.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisVerticalCellColour}] at (\gridTwoStart + 6.5*\gridCellWidth,2.5*\gridCellWidth) {};

\node at (\gridTwoStart + 2.5*\gridCellWidth,6.5*\gridCellWidth) {\footnotesize y4};
\node at (\gridTwoStart + 3.5*\gridCellWidth,5.5*\gridCellWidth) {\footnotesize y4};
\node at (\gridTwoStart + 4.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize y4};
\node at (\gridTwoStart + 5.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize y4};
\node at (\gridTwoStart + 6.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize y4};

%Grid 3

\draw[step=\gridCellWidth cm,color=black] (\gridThreeStart,0) grid (\gridWidth + \gridThreeStart,\gridWidth);

\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 0.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 1.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 2.5*\gridCellWidth,2.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 3.5*\gridCellWidth,1.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 4.5*\gridCellWidth,0.5*\gridCellWidth) {};

\node at (\gridThreeStart + 0.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize x1};
\node at (\gridThreeStart + 1.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize x1};
\node at (\gridThreeStart + 2.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize x1};
\node at (\gridThreeStart + 3.5*\gridCellWidth,1.5*\gridCellWidth) {\footnotesize x1};
\node at (\gridThreeStart + 4.5*\gridCellWidth,0.5*\gridCellWidth) {\footnotesize x1};

\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 0.5*\gridCellWidth,5.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 1.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 2.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 3.5*\gridCellWidth,2.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 4.5*\gridCellWidth,1.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 5.5*\gridCellWidth,0.5*\gridCellWidth) {};

\node at (\gridThreeStart + 0.5*\gridCellWidth,5.5*\gridCellWidth) {\footnotesize x2};
\node at (\gridThreeStart + 1.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize x2};
\node at (\gridThreeStart + 2.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize x2};
\node at (\gridThreeStart + 3.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize x2};
\node at (\gridThreeStart + 4.5*\gridCellWidth,1.5*\gridCellWidth) {\footnotesize x2};
\node at (\gridThreeStart + 5.5*\gridCellWidth,0.5*\gridCellWidth) {\footnotesize x2};


\node[fill={\gridAxisMiddleColour}] at (\gridThreeStart + 0.5*\gridCellWidth,6.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridThreeStart + 1.5*\gridCellWidth,5.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridThreeStart + 2.5*\gridCellWidth,4.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridThreeStart + 3.5*\gridCellWidth,3.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridThreeStart + 4.5*\gridCellWidth,2.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridThreeStart + 5.5*\gridCellWidth,1.5*\gridCellWidth){};
\node[fill={\gridAxisMiddleColour}] at (\gridThreeStart + 6.5*\gridCellWidth,0.5*\gridCellWidth){};

\node at (\gridThreeStart + 0.5*\gridCellWidth,6.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridThreeStart + 1.5*\gridCellWidth,5.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridThreeStart + 2.5*\gridCellWidth,4.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridThreeStart + 3.5*\gridCellWidth,3.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridThreeStart + 4.5*\gridCellWidth,2.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridThreeStart + 5.5*\gridCellWidth,1.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };
\node at (\gridThreeStart + 6.5*\gridCellWidth,0.5*\gridCellWidth) {\tiny{$\frac{\text{m}}{2}$} };


\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 1.5*\gridCellWidth,6.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 2.5*\gridCellWidth,5.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 3.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 4.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 5.5*\gridCellWidth,2.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 6.5*\gridCellWidth,1.5*\gridCellWidth) {};

\node at (\gridThreeStart + 1.5*\gridCellWidth,6.5*\gridCellWidth) {\footnotesize x3};
\node at (\gridThreeStart + 2.5*\gridCellWidth,5.5*\gridCellWidth) {\footnotesize x3};
\node at (\gridThreeStart + 3.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize x3};
\node at (\gridThreeStart + 4.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize x3};
\node at (\gridThreeStart + 5.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize x3};
\node at (\gridThreeStart + 6.5*\gridCellWidth,1.5*\gridCellWidth) {\footnotesize x3};


\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 2.5*\gridCellWidth,6.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 3.5*\gridCellWidth,5.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 4.5*\gridCellWidth,4.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 5.5*\gridCellWidth,3.5*\gridCellWidth) {};
\node[fill={\gridAxisHorizontalCellColour}] at (\gridThreeStart + 6.5*\gridCellWidth,2.5*\gridCellWidth) {};

\node at (\gridThreeStart + 2.5*\gridCellWidth,6.5*\gridCellWidth) {\footnotesize x4};
\node at (\gridThreeStart + 3.5*\gridCellWidth,5.5*\gridCellWidth) {\footnotesize x4};
\node at (\gridThreeStart + 4.5*\gridCellWidth,4.5*\gridCellWidth) {\footnotesize x4};
\node at (\gridThreeStart + 5.5*\gridCellWidth,3.5*\gridCellWidth) {\footnotesize x4};
\node at (\gridThreeStart + 6.5*\gridCellWidth,2.5*\gridCellWidth) {\footnotesize x4};

%in between
\node at (\gridTwoStart + \gridWidth + \gridSpacing/2 ,3.5*\gridCellWidth){$\cdot A_t + A_t \cdot$};

% transpose
\node at (\gridThreeStart + \gridWidth + 0.2,\gridWidth){$T$};
\end{tikzpicture}